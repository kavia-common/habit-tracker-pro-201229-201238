{"is_source_file": true, "format": "JavaScript", "description": "This file defines repositories for managing habits, check-ins, and categories using IndexedDB in a Habit Tracker web application. It includes functions for CRUD operations, filtering, and state changes like archiving and toggling check-ins.", "external_files": ["./db", "../time/dates"], "external_methods": ["getDb", "getTodayKey", "nanoid"], "published": ["createRepositories"], "classes": [], "methods": [{"name": "createRepositories(logger)", "description": "Creates and returns repository objects for managing habits, check-ins, and categories, binding functions to the application's IndexedDB.", "scope": "", "scopeKind": ""}, {"name": "_key(habitId, dateKey)", "scope": "createRepositories.CheckinsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "archive(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "create({ name, color, sortOrder })", "scope": "createRepositories.CategoriesRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "create({ name, description, categoryId, color })", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "getById(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "listAll()", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "listByStatus(status)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "remove(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "seedDefaultsIfEmpty()", "scope": "createRepositories.CategoriesRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "unarchive(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}, {"name": "update(id, patch)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class", "description": "unavailable"}], "calls": ["getDb", "getTodayKey", "nanoid", "db.getAll", "db.get", "db.put", "db.delete", "db.transaction"], "search-terms": ["repositories.js", "HabitRepository", "CheckinsRepository", "CategoriesRepository", "IndexedDB", "habit CRUD", "check-in toggle", "default categories"], "state": 2, "file_id": 18, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "CategoriesRepo", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^  const CategoriesRepo = {$/", "language": "JavaScript", "kind": "class", "scope": "createRepositories", "scopeKind": "class"}, {"_type": "tag", "name": "CheckinsRepo", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^  const CheckinsRepo = {$/", "language": "JavaScript", "kind": "class", "scope": "createRepositories", "scopeKind": "class"}, {"_type": "tag", "name": "HabitsRepo", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^  const HabitsRepo = {$/", "language": "JavaScript", "kind": "class", "scope": "createRepositories", "scopeKind": "class"}, {"_type": "tag", "name": "_key", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    _key(habitId, dateKey) {$/", "language": "JavaScript", "kind": "method", "signature": "(habitId, dateKey)", "scope": "createRepositories.CheckinsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "archive", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async archive(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^      const category = {$/", "language": "JavaScript", "kind": "class", "scope": "createRepositories.CategoriesRepo.create", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async create({ name, color, sortOrder }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ name, color, sortOrder })", "scope": "createRepositories.CategoriesRepo", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async create({ name, description, categoryId, color }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ name, description, categoryId, color })", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "createRepositories", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^export function createRepositories(logger) {$/", "language": "JavaScript", "kind": "function", "signature": "(logger)"}, {"_type": "tag", "name": "getById", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async getById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "habit", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^      const habit = {$/", "language": "JavaScript", "kind": "class", "scope": "createRepositories.HabitsRepo.create", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^        id: nanoid(),$/", "language": "JavaScript", "kind": "property", "scope": "createRepositories.CategoriesRepo.create.category", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^        id: nanoid(),$/", "language": "JavaScript", "kind": "property", "scope": "createRepositories.HabitsRepo.create.habit", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^        key,$/", "language": "JavaScript", "kind": "field", "scope": "createRepositories.CheckinsRepo.next", "scopeKind": "class"}, {"_type": "tag", "name": "listAll", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async listAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "createRepositories.CategoriesRepo", "scopeKind": "class"}, {"_type": "tag", "name": "listAll", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async listAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "listByStatus", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async listByStatus(status) {$/", "language": "JavaScript", "kind": "method", "signature": "(status)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^        name,$/", "language": "JavaScript", "kind": "field", "scope": "createRepositories.CategoriesRepo.create.category", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^        name,$/", "language": "JavaScript", "kind": "field", "scope": "createRepositories.HabitsRepo.create.habit", "scopeKind": "class"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async remove(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "seedDefaultsIfEmpty", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async seedDefaultsIfEmpty() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "createRepositories.CategoriesRepo", "scopeKind": "class"}, {"_type": "tag", "name": "toStatus", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^const toStatus = (habit) => (habit.archivedAt ? \"archived\" : \"active\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unarchive", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async unarchive(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/habit-tracker-pro-201229-201238/frontend_react_app/src/services/db/repositories.js", "pattern": "/^    async update(id, patch) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, patch)", "scope": "createRepositories.HabitsRepo", "scopeKind": "class"}], "hash": "236d9883323349cacd60fc936d8d5b4e", "format-version": 4, "code-base-name": "frontend_react_app", "filename": "frontend_react_app/src/services/db/repositories.js", "fields": [{"name": "id: nanoid(),", "scope": "createRepositories.CategoriesRepo.create.category", "scopeKind": "class", "description": "unavailable"}, {"name": "key,", "scope": "createRepositories.CheckinsRepo.next", "scopeKind": "class", "description": "unavailable"}, {"name": "name,", "scope": "createRepositories.CategoriesRepo.create.category", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"38": ""}]}